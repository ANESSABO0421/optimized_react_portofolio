/* ===========================
   External Library Imports
   =========================== */
@import 'aos/dist/aos.css';

/* ===========================
   Tailwind Directives (MUST COME FIRST)
   =========================== */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ✅ Correct @reference placement for Tailwind v4+ */
@reference "tailwindcss";

/* ===========================
   Base Layer – Global Styles
   =========================== */
@layer base {
  :root {
    /* Theme Colors (used as CSS variables) */
    --color-primary: 58, 124, 165;
    --color-secondary: 30, 41, 59;

    --color-bg-light: 230, 242, 255;
    --color-bg-dark: 15, 23, 42;

    --color-text-light: 30, 41, 59;
    --color-text-dark: 241, 245, 249;
  }

  /* Reset and smoothing */
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  html {
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  /* Base body styles with dark mode support */
  body {
    background-color: rgb(var(--color-bg-light));
    color: rgb(var(--color-text-light));
    transition: background-color 0.3s, color 0.3s;
    font-feature-settings: 'rlig' 1, 'calt' 1;
  }

  .dark body {
    background-color: rgb(var(--color-bg-dark));
    color: rgb(var(--color-text-dark));
  }

  /* ===========================
     Lenis Smooth Scroll
     =========================== */
  html.lenis {
    height: auto;
  }

  .lenis.lenis-smooth {
    scroll-behavior: auto;
  }

  .lenis.lenis-smooth [data-lenis-prevent] {
    overscroll-behavior: contain;
  }

  .lenis.lenis-stopped {
    overflow: hidden;
  }

  .lenis.lenis-scrolling iframe {
    pointer-events: none;
  }

  /* ===========================
     Text Selection
     =========================== */
  ::selection {
    background-color: rgba(var(--color-primary), 0.25);
    color: rgb(var(--color-primary));
  }

  /* ===========================
     Scrollbar
     =========================== */
  ::-webkit-scrollbar {
    width: 0.5rem;
    height: 0.5rem;
  }

  ::-webkit-scrollbar-track {
    background-color: rgba(var(--color-bg-light), 0.5);
  }

  ::-webkit-scrollbar-thumb {
    background-color: rgba(var(--color-primary), 0.4);
    border-radius: 9999px;
    transition: background-color 0.3s ease;
  }

  ::-webkit-scrollbar-thumb:hover {
    background-color: rgba(var(--color-primary), 0.6);
  }

  .dark ::-webkit-scrollbar-track {
    background-color: rgba(var(--color-bg-dark), 0.5);
  }

  .dark ::-webkit-scrollbar-thumb {
    background-color: rgba(var(--color-primary), 0.5);
  }

  /* ===========================
     Typography
     =========================== */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-bold leading-tight tracking-tight;
  }

  h1 {
    @apply text-4xl md:text-6xl lg:text-7xl;
  }

  h2 {
    @apply text-3xl md:text-4xl lg:text-5xl;
  }

  h3 {
    @apply text-2xl md:text-3xl;
  }

  a {
    color: rgb(var(--color-primary));
    transition: opacity 0.3s ease;
  }

  a:hover {
    opacity: 0.8;
  }

  /* ===========================
     Buttons
     =========================== */
  .btn {
    @apply inline-flex items-center justify-center px-6 py-3 rounded-lg font-medium transition-all duration-300 ease-in-out focus:outline-none;
    background-color: rgb(var(--color-primary));
    color: white;
  }

  .btn:hover {
    opacity: 0.9;
  }

  .dark .btn {
    background-color: rgba(var(--color-primary), 0.9);
  }

  .dark .btn:hover {
    background-color: rgb(var(--color-primary));
  }

  /* ===========================
     Containers & Sections
     =========================== */
  .container {
    @apply px-4 sm:px-6 lg:px-8 mx-auto w-full max-w-7xl;
  }

  section {
    @apply py-16 md:py-24 lg:py-32 relative overflow-hidden;
  }

  /* ===========================
     Simple Animations
     =========================== */
  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in {
    animation: fadeIn 0.6s ease-out forwards;
  }

  .animate-slide-up {
    animation: slideUp 0.6s ease-out forwards;
  }
}
